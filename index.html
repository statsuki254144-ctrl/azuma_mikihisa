<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>東幹久 回収率ダッシュボード</title>
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
</head>
<body>
  <header class="wrap">
    <h1>東幹久 回収率ダッシュボード</h1>
    <p class="muted">1レース2000円固定 / 払戻は実際の払戻（外れは0）</p>
  </header>

  <main class="wrap">
    <section class="grid">
      <div class="card">
        <div class="label">年間回収率</div>
        <div class="big" id="yearlyRoi">—</div>
        <div class="muted" id="yearlyMeta">—</div>
      </div>

      <div class="card">
        <div class="label">データ期間</div>
        <div class="big" id="rangeText">—</div>
        <div class="muted" id="countText">—</div>
      </div>
    </section>

    <section class="card">
      <div class="row">
        <h2>日別回収率（推移）</h2>
        <button id="reloadBtn" class="btn">再読み込み</button>
      </div>
      <canvas id="roiChart" height="110"></canvas>
      <p class="muted">※日別回収率＝その日の払戻合計 ÷（2000×その日のレース数）</p>
    </section>

    <section class="card">
      <h2>月別回収率</h2>
      <div class="tableWrap">
        <table id="monthlyTable">
          <thead>
            <tr>
              <th>月</th>
              <th>回収率</th>
              <th>投資</th>
              <th>払戻</th>
              <th>レース数</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </section>

    <section class="card">
      <div class="row">
        <h2>週の詳細</h2>
        <div class="row" style="gap:8px;">
          <select id="weekSelect" class="select"></select>
          <button id="openWeekBtn" class="btn">詳しく見る</button>
        </div>
      </div>

      <div id="weekSummary" class="muted">—</div>

      <div class="tableWrap">
        <table id="weekTable">
          <thead>
            <tr>
              <th>日付</th>
              <th>レース名</th>
              <th>本命馬</th>
              <th>人気</th>
              <th>着順</th>
              <th>投資</th>
              <th>払戻</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </section>
  </main>

  <script src="app.js"></script>
</body>
</html>